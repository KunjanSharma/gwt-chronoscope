<html>
<head> 
<style type="text/gss">

axislegend line { line-thickness: 8px;}

series.s0 line { color: #00ff00; }
series.s1 line { color: #ff0000; }
series.s2 line { color: #00ff00; }
series.s3 line { color: #aabbcc; }

series.s0, series.s1, series.s2, series.s3 { group: jenga; }        
series.jenga { display: stacked-line }

crosshair { visibility: visible; date-format: MM/yyyy; }

</style>

<script type="text/javascript">

var test_data_hourly = [{
	"domain":[1270090800,1270094400,1270098000,1270101600,1270105200,1270108800,1270112400,1270116000,1270119600,1270123200,1270126800,1270130400,1270134000,1270137600,1270141200,1270144800,1270148400,1270152000,1270155600,1270159200,1270162800,1270166400,1270170000,1270173600,1270177200],
	"axis":"events",
	"label":"Buffer Overflow",
	"range":[0,826812,832068,825194,827204,831530,825191,806892,831075,825261,828605,830044,825528,829321,828866,825996,830064,827387,826739,830833,825886,827552,831510,825809,825863],
	"domainscale":1000
},{
	"domain":[1270090800,1270094400,1270098000,1270101600,1270105200,1270108800,1270112400,1270116000,1270119600,1270123200,1270126800,1270130400,1270134000,1270137600,1270141200,1270144800,1270148400,1270152000,1270155600,1270159200,1270162800,1270166400,1270170000,1270173600,1270177200],
	"axis":"events",
	"label":"Firewall Permit",
	"range":[0,738770,735543,738866,738554,735512,738137,716598,737866,740302,740936,738383,740597,739411,738256,740444,739166,738810,740741,737026,739799,741394,737247,739439,738366],
	"domainscale":1000
},{
	"domain":[1270090800,1270094400,1270098000,1270101600,1270105200,1270108800,1270112400,1270116000,1270119600,1270123200,1270126800,1270130400,1270134000,1270137600,1270141200,1270144800,1270148400,1270152000,1270155600,1270159200,1270162800,1270166400,1270170000,1270173600,1270177200],
	"axis":"events",
	"label":"ACL Deny",
	"range":[0,659159,655761,659506,658835,655981,658768,637963,658186,661029,661015,658725,661126,659588,658789,660967,659203,659429,661133,657134,660503,661485,657432,660139,659062],
	"domainscale":1000
},{
	"domain":[1270090800,1270094400,1270098000,1270101600,1270105200,1270108800,1270112400,1270116000,1270119600,1270123200,1270126800,1270130400,1270134000,1270137600,1270141200,1270144800,1270148400,1270152000,1270155600,1270159200,1270162800,1270166400,1270170000,1270173600,1270177200],
	"axis":"events",
	"label":"Firewall Deny",
	"range":[0,369921,370257,368458,370824,369920,368351,360994,369485,368794,370680,369587,368994,370816,369227,368886,370909,368817,369672,370518,368473,370614,370152,368741,368481],
	"domainscale":1000
}];


var __datasets = test_data_hourly;


function __push_dataset(d) {
  __datasets.push(d);
}

function __log(eid, msg) {
    document.getElementById(eid).innerHTML = msg;
}

function onChronoscopeLoaded(chrono) {    
    chrono.createTimeseriesChartById("chart", __datasets, 480, 320, function(view) {

        var plot = view.getChart().getPlot();
        var datasets = plot.getDatasets();
        var d = plot.getDatasets().get(0);
        var incrementalHandler = function(region, ds, cb) {
            if (region.length() < 86400000) {
                __log('logregion', region.getStart() + ", " + region.getEnd());
                var i = 0;
                var inc = Math.floor((Math.floor(region.length() / 60000) * 60000) / 400);
                __log('loginc', inc);
                var dom = [];
                var ran = [];
                var ran2 = [];
                var ran3 = [];
                var ran4 = [];
                var start = (Math.floor(region.getStart() / 60000) * 60000);
                var end = (Math.floor(region.getEnd() / 60000) * 60000);
                var cdom = start;
                while (cdom < end) {
                    dom.push(cdom);
                    cdom += inc;
                    ran.push(9 + Math.random() * 5);
                    ran2.push(9 + Math.random() * 5);
                    ran3.push(9 + Math.random() * 5);
                    ran4.push(9 + Math.random() * 5);
                }
                __log('logstart', start);
                __log('logend', end);
                var rangroup = new Array();
                rangroup.push(ran);
                rangroup.push(ran2);
                rangroup.push(ran3);
                rangroup.push(ran4);
                cb.addData(dom, rangroup);
            }
        }
        d.setIncrementalHandler(incrementalHandler);
        view.getChart().redraw();
    });
};
   
  
</script>
</head>
<body>

  <div>
    <p>
      Zoom in past hourly data and you'll see (auto-generated, in this example) additional data points.
    </p>
    <p>
      region: <b id="logregion">...</b><br/>
      inc: <b id="loginc">...</b><br/>
      start: <b id="logstart">...</b><br/>
      end: <b id="logend">...</b><br/>
    </p>


    <div id="chart">
      loading... 
    </div>
  </div>



<script type="text/javascript" src="org.timepedia.chronoscope.widget.ChronoscopeWidgetDev.nocache.js"> </script>


</body>
</html>




